# 鋼琴學習網站專案規格書

## 專案概述
這是一個純前端的互動式鋼琴學習網站，目標是幫助使用者學習基礎鋼琴知識和練習彈奏技巧。專案採用純 HTML/CSS/JavaScript 開發，方便部署到 GitHub Pages。

## 技術棧
- HTML5
- CSS3
- JavaScript (原生)
- 外部庫：
  - Bootstrap 5.3.0 (CDN)
  - Tone.js 14.7.77 (CDN)

## 已實現功能

### 1. 鋼琴介面
- [x] 互動式鋼琴鍵盤
- [x] 音符標籤顯示
- [x] 按鍵視覺反饋
- [x] 真實鋼琴音效
- [x] 多個八度音支援 (3-5 個八度音)
- [x] 八度音快速切換 (鍵盤 Z/X 或按鈕)

### 2. 控制方式
- [x] 滑鼠點擊控制
- [x] 鍵盤控制
  - 白鍵映射：A(C), S(D), D(E), F(F), G(G), H(A), J(B)
  - 黑鍵映射：W(C#), E(D#), T(F#), Y(G#), U(A#)
  - 八度音切換：Z(降低), X(提高)

### 3. 練習功能
- [x] 基礎練習模式
- [x] 隨機音符練習
- [x] 進度追蹤
- [x] 練習完成提示
- [x] 節拍器功能
  - 速度範圍：40-208 BPM
  - 可調整速度
  - 音效回饋

## 待開發功能

### 1. 進階練習功能
- [ ] 預設曲目練習
  - 建議實作：
    - 簡單兒歌
    - 基礎練習曲
    - 難度分級系統
- [ ] 自定義練習曲目
  - 建議實作：
    - MIDI 檔案匯入
    - 音符序列編輯器
- [ ] 錄音和播放功能
  - 建議實作：
    - 練習記錄
    - 播放速度調整
    - 音符視覺化回放

### 2. 學習輔助功能
- [ ] 音階教學
  - 建議實作：
    - 大調音階練習
    - 小調音階練習
    - 音階理論說明
- [ ] 和弦教學
  - 建議實作：
    - 基礎三和弦
    - 七和弦
    - 和弦進行練習
- [ ] 樂理知識庫
- [ ] 練習歷史記錄
- [ ] 學習進度分析

### 3. 使用者體驗優化
- [ ] 自定義鍵盤映射
- [ ] 音量控制
- [ ] 不同音色選擇
- [ ] 深色模式支援
- [ ] 響應式設計優化

### 4. 社交功能
- [ ] 用戶系統
- [ ] 練習記錄分享
- [ ] 曲目分享
- [ ] 社群討論

## 檔案結構
```
/
├── index.html      # 主頁面，包含鋼琴界面和控制項
├── styles/
│   └── main.css    # 樣式表，定義鋼琴外觀和響應式設計
├── scripts/
│   └── piano.js    # 主要功能實現，包含鋼琴、練習模式和節拍器
└── README.md       # 專案說明
```

## 系統需求
- 瀏覽器要求：
  - 支援 Web Audio API
  - 支援 ES6+ JavaScript
  - 建議使用最新版本的 Chrome、Firefox、Safari 或 Edge

## API 文檔

### Tone.js 使用
- 音符生成：`Tone.Synth()`
- 事件：
  - triggerAttack：開始播放音符
  - triggerRelease：停止播放音符
- 節拍器：
  - Tone.Player：播放節拍聲音
  - Tone.Loop：控制節拍循環
  - Tone.Transport：控制播放狀態和速度

### 事件處理
1. 滑鼠事件
   - mousedown：觸發音符播放
   - mouseup：停止音符播放
   - mouseleave：停止音符播放

2. 鍵盤事件
   - keydown：觸發音符播放或八度音切換
   - keyup：停止音符播放

## 開發注意事項
1. 保持純前端實現，避免後端依賴
2. 使用 CDN 引入外部庫，確保部署便利性
3. 維持程式碼模組化，便於功能擴展
4. 確保跨瀏覽器兼容性
5. 優先考慮使用者體驗

## 後續開發建議
1. 優先實現預設曲目練習功能，這將大幅提升學習體驗
2. 加入音階和和弦教學，幫助使用者打好基礎
3. 實現練習記錄功能，方便追蹤學習進度
4. 加入音量控制和不同音色，讓練習更有趣
5. 最後考慮加入社交功能，建立學習社群

## 開發歷程
1. 2025/6/6
   - 實現多個八度音支援 (3-5 個八度音)
   - 添加八度音切換功能 (Z/X 鍵和按鈕控制)
   - 實現節拍器功能，支援速度調整