# 鋼琴學習網站專案規格書

## 專案概述
這是一個純前端的互動式鋼琴學習網站，目標是幫助使用者學習基礎鋼琴知識和練習彈奏技巧。專案採用純 HTML/CSS/JavaScript 開發，方便部署到 GitHub Pages。

## 技術棧
- HTML5
- CSS3
- JavaScript (原生)
- 外部庫：
  - Bootstrap 5.3.0 (CDN)
  - Tone.js 14.7.77 (CDN)

## 已實現功能

### 1. 鋼琴介面
- [x] 互動式鋼琴鍵盤
- [x] 音符標籤顯示
- [x] 按鍵視覺反饋
- [x] 真實鋼琴音效
- [x] 多個八度音支援 (3-5 個八度音)
- [x] 八度音快速切換 (鍵盤 Z/X 或按鈕)

### 2. 控制方式
- [x] 滑鼠點擊控制
- [x] 鍵盤控制
  - 白鍵映射：A(C), S(D), D(E), F(F), G(G), H(A), J(B)
  - 黑鍵映射：W(C#), E(D#), T(F#), Y(G#), U(A#)
  - 八度音切換：Z(降低), X(提高)

### 3. 練習功能
- [x] 基礎練習模式
- [x] 隨機音符練習
- [x] 進度追蹤
- [x] 練習完成提示
- [x] 節拍器功能
  - 速度範圍：40-208 BPM
  - 可調整速度
  - 音效回饋

## 待開發功能

### 1. 進階練習功能
- [ ] 預設曲目練習
  - 建議實作：
    - 簡單兒歌
    - 基礎練習曲
    - 難度分級系統
- [ ] 自定義練習曲目
  - 建議實作：
    - MIDI 檔案匯入
    - 音符序列編輯器
- [ ] 錄音和播放功能
  - 建議實作：
    - 練習記錄
    - 播放速度調整
    - 音符視覺化回放

### 2. 學習輔助功能
- [ ] 音階教學
  - 建議實作：
    - 大調音階練習
    - 小調音階練習
    - 音階理論說明
- [ ] 和弦教學
  - 建議實作：
    - 基礎三和弦
    - 七和弦
    - 和弦進行練習
- [ ] 樂理知識庫
- [ ] 練習歷史記錄
- [ ] 學習進度分析

### 3. 使用者體驗優化
- [ ] 自定義鍵盤映射
- [ ] 音量控制
- [ ] 不同音色選擇
- [ ] 深色模式支援
- [ ] 響應式設計優化

### 4. 社交功能
- [ ] 用戶系統
- [ ] 練習記錄分享
- [ ] 曲目分享
- [ ] 社群討論

## 檔案結構
```
/
├── index.html      # 主頁面，包含鋼琴界面和控制項
├── styles/
│   └── main.css    # 樣式表，定義鋼琴外觀和響應式設計
├── scripts/
│   └── piano.js    # 主要功能實現，包含鋼琴、練習模式和節拍器
└── README.md       # 專案說明
```

## 系統需求
- 瀏覽器要求：
  - 支援 Web Audio API

## 專案目標和進度記錄

### 當前開發重點（2025年6月13日更新）
1. **核心功能完成度**
   - [x] 基礎鋼琴介面
   - [x] 鍵盤控制系統
   - [x] 基礎練習模式
   - [x] 節拍器功能
   - [ ] 預設曲目練習 (待開發)
   - [ ] 音階教學功能 (待開發)

2. **下一步開發優先順序**
   - 預設曲目練習系統
     - 實作簡單兒歌練習功能
     - 建立難度分級制度
     - 加入練習進度追蹤
   - 音階教學系統
     - 大調音階練習介面
     - 理論知識展示
     - 練習評分機制

3. **技術債務追蹤**
   - 目前使用 CDN 載入外部庫，考慮改為 npm 管理
   - 需要優化音效載入機制
   - 需要加強錯誤處理機制

### 開發注意事項
1. **代碼規範**
   - 使用 ES6+ 語法
   - 保持事件處理程序的一致性
   - 音效相關操作需要錯誤處理

2. **性能考量**
   - 音效預載入機制
   - 動畫效能優化
   - 記憶體使用監控

3. **使用者體驗重點**
   - 保持操作反饋即時性
   - 確保跨瀏覽器兼容性
   - 維持清晰的視覺指引

### 開發日誌
#### 2025年6月13日
- 完成基礎鋼琴介面
- 實現鍵盤控制系統
- 完成節拍器功能
- 基礎練習模式可用

### 未來開發者參考
1. **快速開始**
   - 檢查 `index.html` 了解整體結構
   - 查看 `piano.js` 了解核心邏輯
   - 使用瀏覽器開發者工具檢查音效載入狀況

2. **注意事項**
   - 修改按鍵映射時需同時更新文檔
   - 新增音效需確保格式統一
   - 保持音效觸發延遲最小化

3. **測試重點**
   - 按鍵反應時間
   - 音效播放質量
   - 節拍器準確性
   - 跨瀏覽器兼容性